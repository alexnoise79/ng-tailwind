<div class="nav-container">
  <ul 
    [class]="navClasses()" 
    (keydown)="handleKeyDown($event)" 
    role="tablist"
  >
    @for (item of items(); track item.id) {
      <li [class]="getNavItemClasses()">
        @if (item.routerLink()) {
          <a
            [id]="item.buttonId()"
            [routerLink]="item.routerLink()!"
            routerLinkActive="active"
            [attr.aria-selected]="selectedId() === item.id"
            [attr.aria-disabled]="item.disabled() ? 'true' : null"
            [attr.tabindex]="selectedId() === item.id && !item.disabled() ? 0 : -1"
            [class]="getNavButtonClasses(item)"
            (click)="selectItem(item.id)"
            role="tab"
            [class.pointer-events-none]="item.disabled()">
            @if (item.label()) {
              {{ item.label() }}
            }
          </a>
        } @else {
          <button
            [id]="item.buttonId()"
            [attr.aria-selected]="selectedId() === item.id"
            [attr.aria-disabled]="item.disabled() ? 'true' : null"
            [attr.tabindex]="selectedId() === item.id && !item.disabled() ? 0 : -1"
            [disabled]="item.disabled()"
            [class]="getNavButtonClasses(item)"
            (click)="selectItem(item.id)"
            type="button"
            role="tab"
          >
            @if (item.label()) {
              {{ item.label() }}
            }
          </button>
        }
      </li>
    }
  </ul>
  <div class="nav-content">
    <ng-content />
  </div>
</div>
